# Инструкция по настройке координат для шаблона PDF

## Общая информация

В системе используются координаты для размещения текста на PDF шаблонах сертификатов. Для каждого шаблона необходимо определить точные координаты полей, чтобы текст корректно отображался.

## Шаги для настройки координат

### 1. Создание координатной сетки

Запустите скрипт для создания координатной сетки на PDF:

```
python auto_find_coordinates.py
```

Этот скрипт создаст изображение с сеткой и сохранит его в папке `output_test`. Откройте это изображение и изучите, где должен располагаться текст.

### 2. Обновление координат

После просмотра сетки, откройте файл `update_coordinates.py` и обновите координаты в разделе:

```python
coordinates = {
    template_name: {
        'LEFT': {
            'protocol_number': (440, 440),  # Номер удостоверения
            'workplace': (320, 280),        # Организация 
            'fullname': (320, 240),         # ФИО
            ...
        },
        'RIGHT': {
            ...
        }
    }
}
```

Введите значения координат, которые вы определили по сетке.

### 3. Проверка координат

Запустите скрипт для проверки обновленных координат:

```
python update_coordinates.py
```

Этот скрипт создаст два файла:
- Отладочный файл с сеткой (`debug_*`)
- Финальный файл без сетки (`final_*`)

### 4. Доработка координат

Если координаты всё ещё неверны, повторите шаг 2 и 3, пока текст не будет расположен идеально.

### 5. Интеграция в основной генератор

Когда координаты настроены, запустите:

```
python integrate_coordinates.py
```

Это создаст файл `updated_coordinates.py` с константой `COORDINATES`, которую нужно скопировать в файл `image_certificate_generator.py`.

## Описание файлов в системе

- `auto_find_coordinates.py` - создает сетку на шаблоне PDF
- `update_coordinates.py` - позволяет обновить координаты и проверить их
- `integrate_coordinates.py` - генерирует код для вставки в основной генератор
- `apply_coordinates.py` - применяет координаты к шаблону и создает тестовый документ

## Важные примечания

1. Координаты указываются в формате (X, Y), где:
   - X - горизонтальная позиция (слева направо)
   - Y - вертикальная позиция (сверху вниз)

2. В системе используется структура координат для каждого шаблона:
   ```
   {
       'TEMPLATE_NAME': {
           'LEFT': {
               'field_name': (x, y)
           },
           'RIGHT': {
               'field_name': (x, y)
           }
       }
   }
   ```

3. Для тонкой настройки можно изменять не только координаты, но и другие параметры шрифта и форматирования в файле `image_certificate_generator.py`. 