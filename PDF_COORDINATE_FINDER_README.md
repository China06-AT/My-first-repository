# PDF Coordinate Finder

Инструмент для поиска координат элементов на PDF-файлах сертификатов.

## Описание

Этот инструмент позволяет загружать PDF-файлы, отображать их в виде изображений и находить координаты для различных элементов на сертификатах. Полученные координаты можно использовать для автоматического заполнения шаблонов сертификатов.

## Основные возможности

- Загрузка PDF-файлов и их преобразование в изображения
- Интерактивный выбор координат с помощью мыши
- Отображение координатной сетки для точного позиционирования
- Привязка координат к сетке
- Масштабирование изображения
- Сохранение и загрузка координат в формате JSON
- Генерация Python-кода для использования в программе

## Установка

1. Убедитесь, что у вас установлен Python 3.6 или выше
2. Установите необходимые зависимости:

```
pip install -r requirements.txt
```

## Использование

### Запуск программы

```
python find_pdf_coordinates.py [путь_к_pdf_файлу]
```

Если путь к PDF-файлу не указан, программа попытается найти файл `Безопастность_и_охрана_труда_корочка_1.pdf` в текущей директории.

### Поиск координат

1. Загрузите PDF-файл через кнопку "Открыть PDF" или укажите путь к файлу при запуске
2. Включите отображение сетки для удобства
3. Кликните на нужный элемент на изображении
4. Введите название поля (например, "fullname", "workplace", "job_title")
5. Нажмите кнопку "Добавить координату"
6. Повторите шаги 3-5 для всех нужных элементов
7. Сохраните координаты в JSON-файл для последующего использования

### Настройки

- **Шаблон** - название шаблона сертификата (например, "OHRANA_TRUDA")
- **Секция** - секция сертификата (LEFT или RIGHT)
- **Размер сетки** - шаг координатной сетки в пикселях
- **Привязка к сетке** - автоматическая привязка координат к линиям сетки
- **Масштаб** - изменение масштаба отображения изображения

## Структура координат

Координаты сохраняются в следующем формате:

```python
{
    'TEMPLATE_NAME': {
        'SECTION': {
            'field_name': (x, y)
        }
    }
}
```

Например:

```python
{
    'OHRANA_TRUDA': {
        'LEFT': {
            'fullname': (100, 200),
            'workplace': (100, 250)
        },
        'RIGHT': {
            'cert_date': (300, 150)
        }
    }
}
```

## Интеграция с основной программой

После нахождения координат, скопируйте сгенерированный код и вставьте его в соответствующую часть файла `image_certificate_generator.py` в константу `COORDINATES`.

## Доступные поля для сертификатов

### Общие поля для всех сертификатов:
- `protocol_number` - Номер удостоверения
- `workplace` - Организация
- `fullname` - ФИО
- `job_title` - Должность
- `cert_day` - День выдачи
- `cert_month` - Месяц выдачи
- `cert_year` - Год выдачи

### Для электробезопасности:
- `group_text` - Группа допуска
- `cert_date` - Дата проверки
- `reason` - Причина проверки
- `group` - Группа (римская)
- `mark` - Оценка
- `next_date` - Дата следующей проверки

### Для охраны труда:
- `cert_date` - Дата проверки
- `reason` - Причина проверки
- `mark` - Оценка
- `next_date` - Дата следующей проверки 